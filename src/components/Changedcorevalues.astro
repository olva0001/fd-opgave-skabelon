---
//@ts-nocheck
const CoreData = await fetch(
  "https://frontend-design-theme.netlify.app/api/coreValues"
).then((response) => response.json());

import ArrowRight from "../icons/arrow--right.svg";
---

<section>
  <div class="text-container">
    <div>
      <h5>Growing with our Clients</h5>
      <h1>{CoreData.title}</h1>
      <p>{CoreData.subtitle}</p>
    </div>
    <div>
      <button class="getintouch">{CoreData.button.text}</button>
    </div>
  </div>
  <ul>
    {
      CoreData.values.map(async (coreValue) => {
        const Icon = await import(`../icons/${coreValue.icon}.svg`).then(
          (module) => module.default
        );

        return (
          <li>
            <div class="svg-wrapper">
              <Icon />
            </div>
            <h2>{coreValue.title}</h2>
            <p>{coreValue.description}</p>
            <a href={coreValue.link.url}>
              {coreValue.link.text} <ArrowRight class="arrowright" />
            </a>
          </li>
        );
      })
    }
  </ul>
</section>

<style>
  section {
    h5 {
      background-color: #ffcc4a;
      width: fit-content;
      padding: 0.1rem 1rem;
      border-radius: 40px;
      color: black;
    }

    .arrowright {
      width: 1rem;
      height: 1rem;
      margin-left: 0.5rem;
      color: black;
      vertical-align: middle;
      display: inline;
    }

    display: grid;
    grid-column: 1 / -1;
    grid-template-columns: subgrid;
    background-color: rgba(245, 245, 245, 1);
    padding: 7% 0 7% 0;

    .getintouch {
      padding: 0.5rem 2rem;
      background-color: black;
      color: white;
      border-radius: 20px;
      width: fit-content;
      font-size: var(--step--1);
      white-space: nowrap;
    }

    .getintouch:hover {
      background-color: white;
      color: black;
    }

    .text-container {
      grid-column: content;
      display: flex;
      margin-bottom: 5%;
      color: white;
      justify-content: space-between;
    }

    .text-container p:first-of-type {
      border-radius: 20px;
      width: fit-content;
    }

    .text-container h1 {
      font-size: var(--step-3);
    }

    .text-container div *:not(:first-child) {
      margin-top: 20px;
    }

    .text-container p:last-of-type {
      width: 60%;
    }

    .text-container > div:last-child {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      height: 100%;
    }

    ul {
      display: grid;
      grid-column: content;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      padding: 0;

      li {
        list-style: none;
        background-color: white;
        padding: 1.25rem 1.25rem;
        border-radius: 0.75rem;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .svg-wrapper {
        background-color: black;
        border-radius: 50%;
        padding: 0.4rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
      }

      svg {
        width: 1.2rem;
        height: 1.2rem;
        color: white;
      }

      li h2 {
        font-size: 0.95rem;
        font-weight: 600;
        margin-top: 1rem;
      }

      li p {
        font-size: 0.8rem;
        line-height: 1.4;
        margin-top: 0.5rem;
        flex-grow: 1;
      }

      a {
        margin-top: 1rem;
        font-weight: 600;
        font-size: 0.85rem;
        text-decoration: none;
        color: black;
        display: inline-flex;
        align-items: center;
      }

      .arrowright {
        width: 0.85rem;
        height: 0.85rem;
        margin-left: 0.4rem;
        display: inline-block;
      }
    }

    h1 {
      color: black;
    }

    p {
      color: rgba(89, 85, 102, 1);
    }
  }
</style>
